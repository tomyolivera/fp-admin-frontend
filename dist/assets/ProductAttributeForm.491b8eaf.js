import{j as s,F as p,a as e,B as r,d as h,e as b,u as g,r as i,U as N,P as x,b as v}from"./index.d9eb7f30.js";import{b as y,c as F,F as f,a as C,I as m}from"./Input.b2b01740.js";const A=({name:t,label:n,value:l})=>s(p,{children:[e("label",{htmlFor:t,className:"text-sm font-medium text-gray-700",children:n.toUpperCase()}),e(y,{name:t,children:({push:o,remove:c})=>s("div",{children:[l.map((u,a)=>s("div",{className:`${a>0?"flex flex-row gap-2":""}`,children:[e(F,{name:`${t}.${a}`,className:"my-2 input"}),a>0&&e(r,{className:"btn-red self-center",type:"button",onClick:()=>c(a),children:e(h,{})})]},a)),e(r,{className:"btn-green my-2",type:"button",onClick:()=>o(""),children:e(b,{})})]})})]}),P=()=>{const t=g(),{token:n}=i.exports.useContext(N),{attributes:l,setAttributes:o}=i.exports.useContext(x),[c]=i.exports.useState({name:"",slug:"",values:[""]});return s("div",{className:"py-3",children:[e(r,{className:"btn-gray mb-5",href:"/products",children:"Volver"}),e(f,{initialValues:c,onSubmit:async a=>{l.push({id:l.length+1,...a}),o(l),await v.post("http://localhost:8000/api/attributes",a,{headers:{Authorization:`Bearer ${n}`}}),t("/attributes")},children:({values:a,isSubmitting:d})=>s(C,{className:"flex flex-col gap-y-2",children:[s("div",{className:"grid grid-cols-12 gap-2",children:[e("div",{className:"col-span-12 md:col-span-6",children:e(m,{name:"name",placeholder:"Nombre",label:"Nombre"})}),e("div",{className:"col-span-12 md:col-span-6",children:e(m,{name:"slug",placeholder:"Slug",label:"Slug"})})]}),e(A,{name:"values",value:a.values,label:"Valores"}),e(r,{type:"submit",className:"btn-indigo-compact",disabled:d,children:d?"Cargando...":"Guardar"})]})})]})};export{P as default};
