import{j as i,F as l,a as t,B as d,u as p,r as u,U as b,b as h}from"./index.d9eb7f30.js";import{F as g,a as x,I as j}from"./Input.b2b01740.js";const y=({initialValues:r,onSubmit:c,buttonLabel:n,buttonVolverHref:o})=>i(l,{children:[o&&t(d,{className:"btn-gray mb-5",href:o,children:"Volver"}),t(g,{initialValues:r,onSubmit:async(e,{setSubmitting:s})=>{s(!0),await c(e)},children:({values:e,isSubmitting:s})=>t(x,{className:"flex flex-col gap-y-2",children:i(l,{children:[Object.values(e).map((m,a)=>t(j,{label:Object.keys(e)[a],name:Object.keys(e)[a]},a)),t(d,{type:"submit",className:"btn-indigo-compact",disabled:s,children:s?"Cargando...":n})]})})})]}),f=()=>{const r=p(),{setToken:c}=u.exports.useContext(b),[n,o]=u.exports.useState("");return i(l,{children:[t(y,{initialValues:{email:"matibjolivera@gmail.com",password:"Tuvieja123!"},onSubmit:async m=>{try{const a=await h.post("http://localhost:8000/api/login",m);localStorage.setItem("token",a.data.data.token),c(a.data.data.token),r("/products")}catch{o("Invalid credentials")}},buttonLabel:"Login"}),n&&t("span",{className:"text-red-500",children:n})]})};export{f as default};
