import{j as l,F as i,a as t,B as m,u,r as X,U as p,b}from"./index.b665e591.js";import{F as h,a as x,I as g}from"./Input.b0ec1bd0.js";const y=({initialValues:r,onSubmit:c,buttonLabel:n,buttonVolverHref:o})=>l(i,{children:[o&&t(m,{className:"btn-gray mb-5",href:o,children:"Volver"}),t(h,{initialValues:r,onSubmit:async(e,{setSubmitting:s})=>{s(!0),await c(e)},children:({values:e,isSubmitting:s})=>t(x,{className:"flex flex-col gap-y-2",children:l(i,{children:[Object.values(e).map((d,a)=>t(g,{label:Object.keys(e)[a],name:Object.keys(e)[a]},a)),t(m,{type:"submit",className:"btn-indigo-compact",disabled:s,children:s?"Cargando...":n})]})})})]}),F=()=>{const r=u(),{setToken:c}=X.exports.useContext(p),[n,o]=X.exports.useState("");return l(i,{children:[t(y,{initialValues:{email:"XXXXXXXXXXX",password:"XXXXXXXXXXX"},onSubmit:async d=>{try{const a=await b.post(`${{VITE_API_URL:"http://localhost:8000/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_URL_API}/login`,d);localStorage.setItem("token",a.data.data.token),c(a.data.data.token),r("/products")}catch{o("Invalid credentials")}},buttonLabel:"Login"}),n&&t("span",{className:"text-red-500",children:n})]})};export{F as default};
